# Log rotation configuration for RAG Backend
/var/log/app/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 1000 1000
    postrotate
        # Signal applications to reopen log files if needed
        # Most containerized apps don't need this, but good practice
        /bin/true
    endscript
}

# Security logs - keep longer for compliance
/var/log/app/security/*.log {
    daily
    missingok
    rotate 90
    compress
    delaycompress
    notifempty
    create 644 1000 1000
}

# Error logs - keep for debugging
/var/log/app/error/*.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    create 644 1000 1000
}
